{% extends "layout.html" %}
{% block title %}Checkout{% endblock %}
{% block content%}

{% if stockProblem[0] != nil %}
        <p>Following items order amount exceed items currently in stock</p>
        {% for p in stockProblem %}
                <ul>Name: <a href="/product/{{p.idproduct}}">
                        {{p.length}}m {{p.color}} USB {{p.standard}} cable
                        ({{p.c1type}} {{genders[p.c1gender]}} to
                        {{p.c2type}} {{genders[p.c2gender]}})
                </a><br>
                Currently in stock: {{p.in_stock}}
        </ul>
        {% endfor %}
{% endif %}

<h1>Checkout</h1>

<table>
        <tr>
                <th>Amount</th>
                <th>Name</th>
                <th>Price/unit</th>
        </tr>
        {% for p in products %}
                <tr>
                        <!-- Amount -->
                        <td>{{p.amount}}</td>
                        <!-- Name -->
                        <td><a href="/product/{{p.idproduct}}">
                                {{p.length}}m {{p.color}} USB {{p.standard}} cable
                                ({{p.c1type}} {{genders[p.c1gender]}} to
                                {{p.c2type}} {{genders[p.c2gender]}})
                        </a></td>
                        <!-- Price/unit -->
                        <td>{{p.price}}</td>
                </tr>
        {% endfor %}
</table>
<table>Total cost: {{price}}</table>
<br>
<form method="POST"><input type="submit" value="Confirm"></form>
<button type="button"><a href="/">Back</a></button>
{% endblock %}
